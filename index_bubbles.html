<!DOCTYPE html> 
<html lang ="en">
 	<head>
 		<meta charset="utf-8"> 
 		<meta name="viewport" content="width=device-width,initial-scale=1.0">
 		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
 		<script src="js/d3.v3.js" type="text/javascript"></script>
 		<script src="js/jquery-2.0.3.min.js" type="text/javascript"></script>
 	</head>
 	<body>
 		<div>
	 		<svg
	   xmlns:dc="http://purl.org/dc/elements/1.1/"
	   xmlns:cc="http://creativecommons.org/ns#"
	   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	   xmlns:svg="http://www.w3.org/2000/svg"
	   xmlns="http://www.w3.org/2000/svg"
	   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
	   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
	   width="744.09448819"
	   height="1052.3622047"
	   id="svg2"
	   version="1.1"
	   inkscape:version="0.48.2 r9819"
	   sodipodi:docname="bcellmap.svg">
	  <sodipodi:namedview
	     id="base"
	     pagecolor="#ffffff"
	     bordercolor="#666666"
	     borderopacity="1.0"
	     inkscape:pageopacity="0.0"
	     inkscape:pageshadow="2"
	     inkscape:zoom="0.35"
	     inkscape:cx="375"
	     inkscape:cy="520"
	     inkscape:document-units="px"
	     inkscape:current-layer="layer1"
	     showgrid="false"
	     inkscape:window-width="881"
	     inkscape:window-height="755"
	     inkscape:window-x="626"
	     inkscape:window-y="80"
	     inkscape:window-maximized="0" />
	  <metadata
	     id="metadata7">
	    <rdf:RDF>
	      <cc:Work
	         rdf:about="">
	        <dc:format>image/svg+xml</dc:format>
	        <dc:type
	           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
	        <dc:title></dc:title>
	      </cc:Work>
	    </rdf:RDF>
	  </metadata>
	  <g
	     inkscape:label="Layer 1"
	     inkscape:groupmode="layer"
	     id="layer1">
	    <path
	       sodipodi:type="arc"
	       style="stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none"
	       id="LYN"
	       sodipodi:cx="138.57143"
	       sodipodi:cy="563.79077"
	       sodipodi:rx="64.285713"
	       sodipodi:ry="57.142857"
	       d="m 202.85714,563.79077 a 64.285713,57.142857 0 1 1 -128.571427,0 64.285713,57.142857 0 1 1 128.571427,0 z"
	       transform="translate(-11.428571,-148.57143)"
	       inkscape:label="#LYN" />
	    <path
	       transform="translate(191.42857,-25.714287)"
	       d="m 202.85714,563.79077 a 64.285713,57.142857 0 1 1 -128.571427,0 64.285713,57.142857 0 1 1 128.571427,0 z"
	       sodipodi:ry="57.142857"
	       sodipodi:rx="64.285713"
	       sodipodi:cy="563.79077"
	       sodipodi:cx="138.57143"
	       id="SYK"
	       style="stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
	       sodipodi:type="arc" />
	    <path
	       sodipodi:type="arc"
	       style="stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
	       id="BTK"
	       sodipodi:cx="138.57143"
	       sodipodi:cy="563.79077"
	       sodipodi:rx="64.285713"
	       sodipodi:ry="57.142857"
	       d="m 202.85714,563.79077 a 64.285713,57.142857 0 1 1 -128.571427,0 64.285713,57.142857 0 1 1 128.571427,0 z"
	       transform="translate(382.85714,97.142856)" />
	    <path
	       transform="translate(465.71428,317.14286)"
	       d="m 202.85714,563.79077 a 64.285713,57.142857 0 1 1 -128.571427,0 64.285713,57.142857 0 1 1 128.571427,0 z"
	       sodipodi:ry="57.142857"
	       sodipodi:rx="64.285713"
	       sodipodi:cy="563.79077"
	       sodipodi:cx="138.57143"
	       id="CARD11"
	       style="stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
	       sodipodi:type="arc" />
	  </g>
			</svg>
 		</div>
 		 	<script type="text/javascript">
 				var screen_data = [{
								    "GeneID":"LYN",
								    "Value":0.01
								  },
								  {
								    "GeneID":"SYK",
								    "Value":0.99
								  },
								  {
								    "GeneID":"BTK",
								    "Value":0.5
								  },
								  {
								    "GeneID":"CARD11",
								    "Value":0.3
								 }];

				console.log(screen_data);

				var protein = d3.selectAll('path').attr('fill', function(d){
 
				// Get the ID of the path we are currently working with
				// Our SVG uses the state abbreviation for the ID
				var bubble_id = this.id;
			 
				// Loop through the protein data looking for
				// a match for that abbreviation
				// Then returning the corresponding president
				// who won that state, from the array we made earlier
				$.each(screen_data, function(key, data){
					if(data.GeneID == bubble_id){
						phosphocount = data.Value;
					}
				})
			 
				// Return colors
				// based on data					
				if(phosphocount > 0.6){
					return "blue"
				}
				else if(phosphocount < 0.4){
					return "red"
				}
				else {
					return "#CCC"
				}
			});


		 	</script>
 	</body>
 	</body>
 </html>